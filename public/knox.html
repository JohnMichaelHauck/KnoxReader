<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- https://material.io/icons/ -->
    <style>
        #headingDiv {
            background: lightgray;
            border-radius: 15px;
            padding: 8px;
            margin: 4px;
            display: inline-block;
            vertical-align: top;
        }

        #paragraphDiv {
            background: lightgray;
            border-radius: 15px;
            padding: 8px;
            margin: 4px;
        }

        #headingText {
            font-family: Verdana;
            font-size: 36px;
        }

        #paragraphText {
            font-family: Verdana;
            font-size: 16px;
        }

        #paragraphNumber {
            font-size: 43px;
            text-align: center;
        }

        .tile {
            font-family: Verdana;
            font-size: 12px;
            background: lightgray;
            border-radius: 15px;
            display: inline-block;
            vertical-align: top;
            padding: 4px;
            margin: 4px;
            width: 105px;
            height: 105px;
        }

        .tileTitle {
            text-align: center;
            height: 32px;
        }

        .tileText {
            position: absolute;
            font-size: 70px;
            width: 100px;
        }

        .tileIcon {
            margin-top: -20px;
            position: absolute;
            font-size: 80px;
            margin-left: 15px;
        }

        .tileButton {
            text-align: center;
            color: slategray;
            background-color: white;
            font-size: 18px;
            border-radius: 8px;
            user-select: none;
            cursor: pointer;
            width: 50px;
            display: inline-block;
            margin-top: 50px;
        }
    </style>
</head>

<body>
    <div>
        <div class="tile">
            <div class="tileTitle">Current<br>Paragraph</div>
            <div id="paragraphNumber" class="tileText">1</div>
            <div>
                <span class="tileButton material-icons" style="font-size: 22px" onclick="previousParagraph()">keyboard_arrow_left</span>
                <span class="tileButton material-icons" style="font-size: 22px" onclick="nextParagraph()">keyboard_arrow_right</span>
            </div>
        </div>
        <div id="headingDiv">
            <span id="headingText" />
        </div>
        <div id="paragraphDiv">
            <span id="paragraphText" />
        </div>
    </div>

    <div id="tilesDiv">
    </div>

    <p id="debug">debug</p>

    <div id="tileTemplate" style="display:none">
        <div class="tile">
            <div class="tileTitle">Title</div>
            <div class="material-icons tileIcon">code</div>
            <div>
                <span class="tileButton tileButtonPrevious" onclick="previousParagraph()">1</span>
                <span class="tileButton tileButtonNext" onclick="nextParagraph()">1234</span>
            </div>
        </div>
    </div>

    <script>
        "use strict";
        var paragraphNumber = 0;
        var bookHeadingElements;

        function startup() {
            processBook();
            display();
        }

        function display() {
            document.getElementById("paragraphNumber").textContent = paragraphNumber + 1;

            var bookHeadingElement = bookHeadingElements[paragraphNumber];
            var headingText = document.getElementById("headingText");
            headingText.innerHTML = "";
            headingText.appendChild(bookHeadingElement.cloneNode(true));

            var bookParagraphElement = bookHeadingElement.nextElementSibling;
            var paragraphText = document.getElementById("paragraphText");
            paragraphText.innerHTML = "";
            paragraphText.appendChild(bookParagraphElement.cloneNode(true));

            cloneTiles();
        }

        function previousParagraph() {
            paragraphNumber--;
            display();
        }

        function nextParagraph() {
            paragraphNumber++;
            display();
        }

        function cloneTiles() {
            var tileTemplate = document.getElementById("tileTemplate").firstElementChild;
            var tilesDiv = document.getElementById("tilesDiv");
            tilesDiv.innerHTML = "";
            var paragraphText = document.getElementById("paragraphText");
            var people = paragraphText.getElementsByClassName("person");
            [].forEach.call(people, function (person) {
                var newTileElement = tileTemplate.cloneNode(true);
                tilesDiv.appendChild(newTileElement);
                newTileElement.getElementsByClassName("tileTitle")[0].textContent = person.textContent;
                newTileElement.getElementsByClassName("tileIcon")[0].textContent = "person";
            }, this);
            //debug(people.length);
        }

        function debug(text) {
            document.getElementById("debug").textContent = text;
        }

        function processBook() {
            // break raw text into paragraphs
            var bookElement = document.getElementById("book");
            var newText = bookElement.textContent.replace(/\n\n(.*)\n\n/g, "</div><div class='heading'>$1</div><div>");
            document.getElementById("book").innerHTML = newText.substring(6);
            bookHeadingElements = bookElement.getElementsByClassName("heading");
            // [].forEach.call(bookHeadingElements, function (bookHeading) {
            //             var text = text.replace(/(Paul Craw)/g, "<span class='person craw'>$1</span>");
            // }
        }

        window.onload = startup;
    </script>

    <div id="book" style="display:none">

   Early Persecutions.

   In the Records of Glasgow, mention is found of one that, in the year of
   God 1422, was burnt for heresy. His name is not given, and of his
   opinions or of the order upon which he was condemned there is no
   evidence left. But our Chronicles make mention that, in the days of
   King James the First, about the year of God 1431, there was apprehended
   in the University of St. Andrews one named Paul Craw, a Bohemian, who
   was accused of heresy before such as then were called Doctors of
   Theology. The principal accusation against him was that, in his opinion
   of the Sacrament, he followed John Huss and Wycliffe, who denied that
   the substance of bread and wine were changed by virtue of any words, or
   that confession should be made to priests, or prayers made to saints
   departed.

   Paul Craw: A.D. 1431.

   God gave unto the said Paul Craw grace to resist his persecutors, and
   not to consent to their impiety, and he was committed to the secular
   judge (for our bishops follow Pilate, who both did condemn, and also
   washed his hands) who condemned him to the fire. Therein he was
   consumed at St. Andrews, about the time mentioned. To declare
   themselves to be of the generation of Satan, who from the beginning
   hath been enemy to the truth and desireth the same to be hid from the
   knowledge of men, they put a ball of brass in his mouth, to the end
   that he should not give confession of his faith to the people, nor yet
   that they should understand the defence which he had against his unjust
   accusation and condemnation.

   The Lollards of Kyle: 1494.

   These practices did not greatly advance the kingdom of darkness, nor
   were they able utterly to extinguish the truth. In the days of King
   James the Second and King James the Third we find small question of
   religion moved within this Realm, but in the time of King James the
   Fourth, in the year of God 1494, thirty persons were summoned before
   the King and his Great Council, by Robert Blackader, called Archbishop
   of Glasgow. Some of these dwelt in Kyle-Stewart, some in King's-Kyle,
   and some in Cunningham. Amongst them were George Campbell of Cessnock,
   Adam Reid of Barskymming, John Campbell of New Mills, Andrew Shaw of
   Polkemmet, Helen Chalmers, Lady Polkellie, and Marion Chalmers, Lady
   Stair.

   Whereof the Lollards of Kyle were accused.

   These were called the Lollards of Kyle. In the Register of Glasgow we
   find the Articles of Belief for which they were accused. These were as
   follows:--(1) Images are not to be possessed, nor yet to be worshipped.
   (2) Relics of Saints are not to be worshipped. (3) Laws and Ordinances
   of men vary from time to time, and so do those of the Pope. (4) It is
   not lawful to fight, or to defend the faith. (We translate according to
   the barbarousness of their Latin and dictament. [2] ) (5) Christ gave
   power to Peter only, and not to his successors, to bind and loose
   within the Kirk. (6) Christ ordained no priests to consecrate. (7)
   After the consecration in the Mass, there remains bread; and the
   natural body of Christ is not there. (8) Tithes ought not to be given
   to Ecclesiastical Men--as they were then called. (9) Christ at His
   coming took away power from Kings to judge. (This article we doubt not
   to be the venomous accusation of the enemies, whose practice has ever
   been to make the doctrine of Jesus Christ suspect to Kings and rulers,
   as if God thereby would depose them from their royal seats, while, on
   the contrary, nothing confirms the power of magistrates more than does
   God's Word.--But to the Articles.) (10) Every faithful man or woman is
   a priest. (11) The anointing of kings ceased at the coming of Christ.
   (12) The Pope is not the successor of Peter--except where Christ said,
   "Go behind me, Satan." (13) The Pope deceiveth the people by his bulls
   and his indulgences. (14) The Mass profiteth not the souls that are in
   purgatory. (15) The Pope and the bishops deceive the people by their
   pardons. (16) Indulgences to fight against the Saracens ought not to be
   granted. (17) The Pope exalts himself against God and above God. (18)
   The Pope cannot remit the pains of purgatory. (19) The blessings of the
   bishops--of dumb dogs they should have been styled--are of no value.
   (20) The excommunication of the Kirk is not to be feared. (21) In no
   case is it lawful to swear. (22) Priests may have wives, according to
   the constitution of the law. (23) True Christians receive the body of
   Jesus Christ every day. (24) After matrimony is contracted, the Kirk
   may make no divorce. (25) Excommunication binds not. (26) The Pope
   forgives not sins, but only God. (27) Faith should not be given to
   miracles. (28) We should not pray to the glorious Virgin Mary, but to
   God only. (29) We are no more bound to pray in the kirk than in other
   places. (30) We are not bound to believe all that the Doctors of the
   Kirk have written. (31) Such as worship the sacrament of the Kirk--we
   suppose they meant the sacrament of the altar--commit idolatry. (32)
   The Pope is the head of the Kirk of Antichrist. (33) The Pope and his
   ministers are murderers. (34) They which are called principals in the
   Church are thieves and robbers.

   Albeit that the accusation of the Archbishop and his accomplices was
   very grievous, God so assisted his servants, partly by inclining the
   King's heart to gentleness (for divers of them were his great
   familiars), and partly by giving bold and godly answers to their
   accusators, that the enemies in the end were frustrated in their
   purpose. When the Archbishop, in mockery, said to Adam Reid of
   Barskymming, "Reid, believe ye that God is in heaven?" He answered,
   "Not as I do the Sacraments seven." Thereat the Archbishop, thinking to
   have triumphed, said, "Sir, lo, he denies that God is in heaven." The
   King, wondering, said, "Adam Reid, what say ye?" The other answered,
   "Please your Grace to hear the end betwixt the churl and me." Therewith
   he turned to the Archbishop and said, "I neither think nor believe, as
   thou thinkest, that God is in heaven; but I am most assured that He is
   not only in heaven, but also on earth. Thou and thy faction declare by
   your works that either ye think there is no God at all, or else that He
   is so shut up in heaven that He regards not what is done on earth. If
   thou didst firmly believe that God was in heaven, thou shouldst not
   make thyself cheek-mate [3] to the King, and altogether forget the
   charge that Jesus Christ the Son of God gave to His Apostles. That was,
   to preach His Evangel, and not to play the proud prelates, as all the
   rabble of you do this day. And now, Sir," said he to the King, "judge
   ye whether the Bishop or I believe best that God is in heaven." While
   the Archbishop and his band could not well revenge themselves, and
   while many taunts were given them in their teeth, the King, willing to
   put an end to further reasoning, said to the said Adam Reid, "Wilt thou
   burn thy bill?" [4] He answered, "Sir, the Bishop and ye will." With
   these and the like scoffs the Archbishop and his band were so dashed
   out of countenance that the greatest part of the accusation was turned
   to laughter.
    </div>

    <div id="book2" style="display:none">
        <div class="heading">Early Persecutions.</div>
        <div>
            In the Records of Glasgow, mention is found of <span class="person" />one</span> that, in the year of God
            <span class="date">1422</span>, was <span class="killed">burnt for heresy</span>. His name is not given, and
            of his opinions or of the order upon which he was condemned there is no evidence left. But our Chronicles make
            mention that, in the days of King James the First, about the year of God <span class="date">1431</span>, there
            was apprehended in the University of St. Andrews one named <span class="person" />Paul Craw</span>, a Bohemian,
            who was accused of heresy before such as then were called Doctors of Theology. The principal accusation against
            him was that, in his opinion of the Sacrament, he followed John Huss and Wycliffe, who denied that the substance
            of bread and wine were changed by virtue of any words, or that confession should be made to priests, or prayers
            made to saints departed.
        </div>
        <div class="heading">
            <span class "person">Paul Craw</span>: A.D. <span class "date">1431</span>.
        </div>
        <div>
            God gave unto the said <span class="person">Paul Craw</span> grace to resist his persecutors, and not to consent
            to their impiety, and he was committed to the secular judge (for our bishops follow Pilate, who both did condemn,
            and also washed his hands) who condemned him to the fire<span class="killed">condemned him to the fire</span>.
            Therein he was consumed at St. Andrews, about the time mentioned. To declare themselves to be of the generation
            of Satan, who from the beginning hath been enemy to the truth and desireth the same to be hid from the knowledge
            of men, they put a ball of brass in his mouth, to the end that he should not give confession of his faith to
            the people, nor yet that they should understand the defence which he had against his unjust accusation and condemnation.
        </div>
    </div>

</body>

</html>